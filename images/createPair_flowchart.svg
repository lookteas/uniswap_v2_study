<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 1400">
  <defs>
    <!-- æ¸å˜å®šä¹‰ -->
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#667eea"/>
      <stop offset="100%" style="stop-color:#764ba2"/>
    </linearGradient>
    <linearGradient id="startGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#11998e"/>
      <stop offset="100%" style="stop-color:#38ef7d"/>
    </linearGradient>
    <linearGradient id="checkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb"/>
      <stop offset="100%" style="stop-color:#f5576c"/>
    </linearGradient>
    <linearGradient id="processGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe"/>
      <stop offset="100%" style="stop-color:#00f2fe"/>
    </linearGradient>
    <linearGradient id="assemblyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fa709a"/>
      <stop offset="100%" style="stop-color:#fee140"/>
    </linearGradient>
    <linearGradient id="endGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a8edea"/>
      <stop offset="100%" style="stop-color:#fed6e3"/>
    </linearGradient>
    <linearGradient id="errorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff416c"/>
      <stop offset="100%" style="stop-color:#ff4b2b"/>
    </linearGradient>
    
    <!-- é˜´å½±æ•ˆæœ -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
    
    <!-- ç®­å¤´æ ‡è®° -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
    <marker id="arrowheadRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ff4b2b"/>
    </marker>
    <marker id="arrowheadGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#38ef7d"/>
    </marker>
  </defs>
  
  <!-- èƒŒæ™¯ -->
  <rect width="900" height="1400" fill="#f8fafc"/>
  
  <!-- æ ‡é¢˜ -->
  <rect x="200" y="20" width="500" height="50" rx="10" fill="url(#headerGrad)" filter="url(#shadow)"/>
  <text x="450" y="52" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="22" font-weight="bold">
    createPair() æ‰§è¡Œæµç¨‹å›¾
  </text>
  
  <!-- æ­¥éª¤ 1: å¼€å§‹ -->
  <ellipse cx="450" cy="120" rx="120" ry="30" fill="url(#startGrad)" filter="url(#shadow)"/>
  <text x="450" y="126" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    createPair(tokenA, tokenB)
  </text>
  
  <!-- ç®­å¤´ 1->2 -->
  <line x1="450" y1="150" x2="450" y2="175" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 2: æ£€æŸ¥ç›¸åŒåœ°å€ -->
  <polygon points="450,185 550,230 450,275 350,230" fill="url(#checkGrad)" filter="url(#shadow)"/>
  <text x="450" y="225" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    tokenA != tokenB ?
  </text>
  <text x="450" y="240" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="9">
    æ£€æŸ¥åœ°å€ä¸ç›¸åŒ
  </text>
  
  <!-- é”™è¯¯åˆ†æ”¯ 1 -->
  <line x1="550" y1="230" x2="680" y2="230" stroke="#ff4b2b" stroke-width="2" marker-end="url(#arrowheadRed)"/>
  <text x="600" y="220" fill="#ff4b2b" font-family="Arial, sans-serif" font-size="11">No</text>
  <rect x="690" y="210" width="180" height="40" rx="5" fill="url(#errorGrad)" filter="url(#shadow)"/>
  <text x="780" y="235" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    âŒ IDENTICAL_ADDRESSES
  </text>
  
  <!-- ç®­å¤´ 2->3 -->
  <line x1="450" y1="275" x2="450" y2="300" stroke="#38ef7d" stroke-width="2" marker-end="url(#arrowheadGreen)"/>
  <text x="460" y="290" fill="#38ef7d" font-family="Arial, sans-serif" font-size="11">Yes</text>
  
  <!-- æ­¥éª¤ 3: æ’åº Token -->
  <rect x="300" y="310" width="300" height="55" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="332" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    æ’åº Token åœ°å€
  </text>
  <text x="450" y="352" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    (token0, token1) = tokenA &lt; tokenB ? (A,B) : (B,A)
  </text>
  
  <!-- ç®­å¤´ 3->4 -->
  <line x1="450" y1="365" x2="450" y2="390" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 4: æ£€æŸ¥é›¶åœ°å€ -->
  <polygon points="450,400 550,445 450,490 350,445" fill="url(#checkGrad)" filter="url(#shadow)"/>
  <text x="450" y="440" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    token0 != 0x0 ?
  </text>
  <text x="450" y="455" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="9">
    æ£€æŸ¥éé›¶åœ°å€
  </text>
  
  <!-- é”™è¯¯åˆ†æ”¯ 2 -->
  <line x1="550" y1="445" x2="680" y2="445" stroke="#ff4b2b" stroke-width="2" marker-end="url(#arrowheadRed)"/>
  <text x="600" y="435" fill="#ff4b2b" font-family="Arial, sans-serif" font-size="11">No</text>
  <rect x="690" y="425" width="180" height="40" rx="5" fill="url(#errorGrad)" filter="url(#shadow)"/>
  <text x="780" y="450" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    âŒ ZERO_ADDRESS
  </text>
  
  <!-- ç®­å¤´ 4->5 -->
  <line x1="450" y1="490" x2="450" y2="515" stroke="#38ef7d" stroke-width="2" marker-end="url(#arrowheadGreen)"/>
  <text x="460" y="505" fill="#38ef7d" font-family="Arial, sans-serif" font-size="11">Yes</text>
  
  <!-- æ­¥éª¤ 5: æ£€æŸ¥ Pair å­˜åœ¨ -->
  <polygon points="450,525 570,575 450,625 330,575" fill="url(#checkGrad)" filter="url(#shadow)"/>
  <text x="450" y="565" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    getPair[t0][t1] == 0 ?
  </text>
  <text x="450" y="582" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="9">
    æ£€æŸ¥ Pair ä¸å­˜åœ¨
  </text>
  
  <!-- é”™è¯¯åˆ†æ”¯ 3 -->
  <line x1="570" y1="575" x2="680" y2="575" stroke="#ff4b2b" stroke-width="2" marker-end="url(#arrowheadRed)"/>
  <text x="610" y="565" fill="#ff4b2b" font-family="Arial, sans-serif" font-size="11">No</text>
  <rect x="690" y="555" width="180" height="40" rx="5" fill="url(#errorGrad)" filter="url(#shadow)"/>
  <text x="780" y="580" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
    âŒ PAIR_EXISTS
  </text>
  
  <!-- ç®­å¤´ 5->6 -->
  <line x1="450" y1="625" x2="450" y2="655" stroke="#38ef7d" stroke-width="2" marker-end="url(#arrowheadGreen)"/>
  <text x="460" y="645" fill="#38ef7d" font-family="Arial, sans-serif" font-size="11">Yes</text>
  
  <!-- æ­¥éª¤ 6: è·å–å­—èŠ‚ç  -->
  <rect x="300" y="665" width="300" height="55" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="687" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    è·å– Pair åˆçº¦å­—èŠ‚ç 
  </text>
  <text x="450" y="707" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    bytecode = type(UniswapV2Pair).creationCode
  </text>
  
  <!-- ç®­å¤´ 6->7 -->
  <line x1="450" y1="720" x2="450" y2="750" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 7: è®¡ç®— Salt -->
  <rect x="300" y="760" width="300" height="55" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="782" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    è®¡ç®— Salt å€¼
  </text>
  <text x="450" y="802" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    salt = keccak256(abi.encodePacked(token0, token1))
  </text>
  
  <!-- ç®­å¤´ 7->8 -->
  <line x1="450" y1="815" x2="450" y2="845" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 8: CREATE2 éƒ¨ç½² (æ ¸å¿ƒ) -->
  <rect x="250" y="855" width="400" height="80" rx="10" fill="url(#assemblyGrad)" filter="url(#shadow)"/>
  <text x="450" y="880" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    ğŸ”§ CREATE2 éƒ¨ç½²åˆçº¦ (Assembly)
  </text>
  <text x="450" y="900" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    pair := create2(0, add(bytecode, 32), mload(bytecode), salt)
  </text>
  <text x="450" y="920" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="9">
    åœ°å€ = keccak256(0xff, factory, salt, bytecode_hash)[12:]
  </text>
  
  <!-- ç®­å¤´ 8->9 -->
  <line x1="450" y1="935" x2="450" y2="965" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 9: åˆå§‹åŒ– Pair -->
  <rect x="300" y="975" width="300" height="55" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="997" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    åˆå§‹åŒ– Pair åˆçº¦
  </text>
  <text x="450" y="1017" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    IUniswapV2Pair(pair).initialize(token0, token1)
  </text>
  
  <!-- ç®­å¤´ 9->10 -->
  <line x1="450" y1="1030" x2="450" y2="1060" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 10: æ›´æ–°æ˜ å°„ -->
  <rect x="300" y="1070" width="300" height="65" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="1092" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    æ›´æ–° getPair æ˜ å°„ (åŒå‘)
  </text>
  <text x="450" y="1112" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    getPair[token0][token1] = pair
  </text>
  <text x="450" y="1127" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    getPair[token1][token0] = pair
  </text>
  
  <!-- ç®­å¤´ 10->11 -->
  <line x1="450" y1="1135" x2="450" y2="1165" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 11: æ·»åŠ åˆ°æ•°ç»„ -->
  <rect x="300" y="1175" width="300" height="45" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="1197" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    æ·»åŠ åˆ° allPairs æ•°ç»„
  </text>
  <text x="450" y="1212" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    allPairs.push(pair)
  </text>
  
  <!-- ç®­å¤´ 11->12 -->
  <line x1="450" y1="1220" x2="450" y2="1250" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 12: è§¦å‘äº‹ä»¶ -->
  <rect x="280" y="1260" width="340" height="45" rx="10" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="450" y="1282" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    ğŸ“¢ è§¦å‘ PairCreated äº‹ä»¶
  </text>
  <text x="450" y="1297" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="10">
    emit PairCreated(token0, token1, pair, allPairs.length)
  </text>
  
  <!-- ç®­å¤´ 12->13 -->
  <line x1="450" y1="1305" x2="450" y2="1335" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- æ­¥éª¤ 13: ç»“æŸ -->
  <ellipse cx="450" cy="1365" rx="100" ry="25" fill="url(#endGrad)" filter="url(#shadow)"/>
  <text x="450" y="1371" text-anchor="middle" fill="#333" font-family="Arial, sans-serif" font-size="13" font-weight="bold">
    return pair åœ°å€
  </text>
  
  <!-- å·¦ä¾§è¯´æ˜æ¡† -->
  <rect x="30" y="850" width="180" height="160" rx="8" fill="#fff" stroke="#4facfe" stroke-width="2" filter="url(#shadow)"/>
  <text x="120" y="875" text-anchor="middle" fill="#4facfe" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    CREATE2 åœ°å€è®¡ç®—
  </text>
  <line x1="40" y1="885" x2="200" y2="885" stroke="#4facfe" stroke-width="1"/>
  <text x="45" y="905" fill="#333" font-family="monospace" font-size="9">
    address = keccak256(
  </text>
  <text x="55" y="920" fill="#333" font-family="monospace" font-size="9">
    0xff,
  </text>
  <text x="55" y="935" fill="#333" font-family="monospace" font-size="9">
    factory_address,
  </text>
  <text x="55" y="950" fill="#333" font-family="monospace" font-size="9">
    salt,
  </text>
  <text x="55" y="965" fill="#333" font-family="monospace" font-size="9">
    keccak256(bytecode)
  </text>
  <text x="45" y="980" fill="#333" font-family="monospace" font-size="9">
    )[12:]
  </text>
  <text x="45" y="1000" fill="#666" font-family="Arial, sans-serif" font-size="8">
    å–å20å­—èŠ‚ä½œä¸ºåœ°å€
  </text>
  
  <!-- å›¾ä¾‹ -->
  <rect x="30" y="1100" width="180" height="130" rx="8" fill="#fff" stroke="#667eea" stroke-width="2" filter="url(#shadow)"/>
  <text x="120" y="1125" text-anchor="middle" fill="#667eea" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
    å›¾ä¾‹
  </text>
  <line x1="40" y1="1135" x2="200" y2="1135" stroke="#667eea" stroke-width="1"/>
  
  <ellipse cx="60" cy="1155" rx="15" ry="8" fill="url(#startGrad)"/>
  <text x="85" y="1159" fill="#333" font-family="Arial, sans-serif" font-size="10">å¼€å§‹/ç»“æŸ</text>
  
  <polygon points="60,1175 75,1185 60,1195 45,1185" fill="url(#checkGrad)"/>
  <text x="85" y="1189" fill="#333" font-family="Arial, sans-serif" font-size="10">æ¡ä»¶åˆ¤æ–­</text>
  
  <rect x="45" y="1200" width="30" height="15" rx="3" fill="url(#processGrad)"/>
  <text x="85" y="1212" fill="#333" font-family="Arial, sans-serif" font-size="10">å¤„ç†æ­¥éª¤</text>
  
  <!-- ç‰ˆæƒä¿¡æ¯ -->
  <text x="450" y="1395" text-anchor="middle" fill="#999" font-family="Arial, sans-serif" font-size="10">
    UniswapV2Factory.createPair() | Solidity 0.5.16
  </text>
</svg>
